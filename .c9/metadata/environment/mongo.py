{"changed":true,"filter":false,"title":"mongo.py","tooltip":"/mongo.py","value":"import pymongo\nimport os\nfrom flask import Flask, render_template, redirect, request, url_for\nfrom flask_pymongo import PyMongo\nfrom bson.objectid import ObjectId\n\napp = Flask(__name__)\napp.config[\"MONGO_URI\"] = os.getenv(\"MONGO_URI\")\napp.config[\"MONGO_DBNAME\"] = 'cookbook'\n\n#MONGODB_URI =   'mongodb+srv://root:31Wirpbj6677@cookery-website-xysxa.mongodb.net/cookbook?retryWrites=true&w=majority'\n\n#DBS_NAME = \"cookbook\"\n#COLLECTION_NAME = \"recipes\"\n\ndef mongo_connect(url):\n    try:\n        conn = pymongo.MongoClient(url)\n        print(\"Mongo has connected successfully!\")\n        return conn\n    except pymongo.errors.ConnectionFailure as e:\n        print(\"Unable to connect to MongoDB: %s\") % e\n       \n##conn = mongo_connect(MONGODB_URI)\n##coll = conn[DBS_NAME][COLLECTION_NAME]\n\n##documents = conn.find()\n\n##for doc in documents:\n  ##  print(doc)\n    \n    \n    \n","undoManager":{"mark":7,"position":12,"stack":[[{"start":{"row":7,"column":26},"end":{"row":7,"column":130},"action":"remove","lines":["'mongodb+srv://root:31Wirpbj6677@cookery-website-xysxa.mongodb.net/cookbook?retryWrites=true&w=majority'"],"id":48}],[{"start":{"row":10,"column":37},"end":{"row":10,"column":38},"action":"insert","lines":[" "],"id":49},{"start":{"row":10,"column":38},"end":{"row":10,"column":39},"action":"insert","lines":[" "]}],[{"start":{"row":10,"column":39},"end":{"row":10,"column":143},"action":"insert","lines":["'mongodb+srv://root:31Wirpbj6677@cookery-website-xysxa.mongodb.net/cookbook?retryWrites=true&w=majority'"],"id":50}],[{"start":{"row":10,"column":15},"end":{"row":10,"column":37},"action":"remove","lines":["os.getenv(\"MONGO_URI\")"],"id":51}],[{"start":{"row":7,"column":26},"end":{"row":7,"column":48},"action":"insert","lines":["os.getenv(\"MONGO_URI\")"],"id":52}],[{"start":{"row":25,"column":0},"end":{"row":25,"column":1},"action":"insert","lines":["#"],"id":53},{"start":{"row":25,"column":1},"end":{"row":25,"column":2},"action":"insert","lines":["#"]}],[{"start":{"row":27,"column":0},"end":{"row":27,"column":1},"action":"insert","lines":["#"],"id":54},{"start":{"row":27,"column":1},"end":{"row":27,"column":2},"action":"insert","lines":["#"]}],[{"start":{"row":28,"column":2},"end":{"row":28,"column":3},"action":"insert","lines":["#"],"id":55},{"start":{"row":28,"column":3},"end":{"row":28,"column":4},"action":"insert","lines":["#"]}],[{"start":{"row":10,"column":121},"end":{"row":11,"column":0},"action":"insert","lines":["",""],"id":56}],[{"start":{"row":11,"column":0},"end":{"row":11,"column":22},"action":"insert","lines":["os.getenv(\"MONGO_URI\")"],"id":57}],[{"start":{"row":11,"column":0},"end":{"row":11,"column":22},"action":"remove","lines":["os.getenv(\"MONGO_URI\")"],"id":58}],[{"start":{"row":11,"column":0},"end":{"row":11,"column":22},"action":"insert","lines":["os.getenv(\"MONGO_URI\")"],"id":59}],[{"start":{"row":11,"column":0},"end":{"row":11,"column":22},"action":"remove","lines":["os.getenv(\"MONGO_URI\")"],"id":60}]]},"ace":{"folds":[],"scrolltop":56.5,"scrollleft":0,"selection":{"start":{"row":11,"column":0},"end":{"row":11,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1561749759680}